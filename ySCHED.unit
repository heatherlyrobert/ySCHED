#===[[ BEGINNING OF TEST DESCRIPTION ]]========================================================================================================================================================================|
#           0        1         2         3                  1         2             1         2         3         4         5         6             1             1         2         3         4         5         6
#23456789012_  _12345678901234567890123456789012345_  _12345678901234567890_  _123456789012345678901234567890123456789012345678901234567890_  _1234567890_  _123456789012345678901234567890123456789012345678901234567890_
#===========  ===========(short desc)============  =====(function)=====  ========================(arguments)=========================  ==========  ==========================(results)========================= 
#
#


#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
PREP          v20  include the prototype headers                               
  incl        v20  include the header                   ySCHED.h             
  incl        v20  include the private header           ySCHED_priv.h        



#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  verify date setting                                          ySCHED_setdate                                                          ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       

   GROUP      v20  switch around the months and days to test updates            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  run date on 01.15.2011 (sat, 31 days, first is sat)          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  1, 15                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 01m, 15d, 6dow -- 52wks, 31dys, 6fdow             -                       

   COND       v20  run date on 02.02.2011 (wed, 28 days, first is tue)          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  2,  2                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 02m, 02d, 3dow -- 52wks, 28dys, 2fdow             -                       

   COND       v20  run date on 03.21.2011 (mon, 31 days, first is tue)          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  3, 21                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 03m, 21d, 1dow -- 52wks, 31dys, 2fdow             -                       

   COND       v20  run date on 04.25.2011 (mon, 30 days, first is fri)          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  4, 25                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 04m, 25d, 1dow -- 52wks, 30dys, 5fdow             -                       

   COND       v20  run date on 05.13.2011 (fri, 31 days, first is sun)          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  5, 13                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 05m, 13d, 5dow -- 52wks, 31dys, 7fdow             -                       

   COND       v20  run date on 06.14.2011 (tue, 30 days, first is wed)          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  6, 14                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 06m, 14d, 2dow -- 52wks, 30dys, 3fdow             -                       

   COND       v20  run date on 07.14.2011 (thu, 31 days, first is fri)          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  7, 14                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 07m, 14d, 4dow -- 52wks, 31dys, 5fdow             -                       

   COND       v20  run date on 08.21.2011 (sun, 31 days, first is mon)          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  8, 21                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 08m, 21d, 7dow -- 52wks, 31dys, 1fdow             -                       

   COND       v20  run date on 09.21.2011 (wed, 30 days, first is thu)          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  9, 21                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 09m, 21d, 3dow -- 52wks, 30dys, 4fdow             -                       

   COND       v20  run date on 10.21.2011 (fri, 31 days, first is sat)          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11, 10, 21                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 10m, 21d, 5dow -- 52wks, 31dys, 6fdow             -                       

   COND       v20  run date on 11.21.2011 (mon, 30 days, first is tue)          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11, 11, 21                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 11m, 21d, 1dow -- 52wks, 30dys, 2fdow             -                       

   COND       v20  run date on 12.21.2011 (wed, 31 days, first is thu)          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11, 12, 21                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 12m, 21d, 3dow -- 52wks, 31dys, 4fdow             -                       

   COND       v20  run date on 02.21.2004 (leap year and 53 weeks)              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           04, 02, 21                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 04y, 02m, 21d, 6dow -- 53wks, 29dys, 7fdow             -                       

   GROUP      v20  switch only the year to test updates                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  run date on 01.13.2010 (year ending friday)                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           10,  1, 13                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 10y, 01m, 13d, 3dow -- 52wks, 31dys, 5fdow             -                       

   COND       v20  run date on 01.13.2009 (year ending thu, 53 weeks)           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate            9,  1, 13                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 09y, 01m, 13d, 2dow -- 53wks, 31dys, 4fdow             -                       

   COND       v20  run date on 01.13.2008 (year ending wed)                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate            8,  1, 13                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 08y, 01m, 13d, 7dow -- 52wks, 31dys, 2fdow             -                       

   COND       v20  run date on 01.13.2007 (year ending mon)                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate            7,  1, 13                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 07y, 01m, 13d, 6dow -- 52wks, 31dys, 1fdow             -                       

   GROUP      v20  switch day in month to make sure stats are stable            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  run date on 04.15.2001                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate            1,  4, 15                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 01y, 04m, 15d, 7dow -- 52wks, 30dys, 7fdow             -                       

   COND       v20  run date on 04.14.2001 (make sure stats stable)              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate            1,  4, 14                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 01y, 04m, 14d, 6dow -- 52wks, 30dys, 7fdow             -                       

   COND       v20  run date on 04.10.2001 (make sure stats stable)              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate            1,  4, 10                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 01y, 04m, 10d, 2dow -- 52wks, 30dys, 7fdow             -                       

   COND       v20  run date on 04.01.2001 (make sure stats stable)              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate            1,  4,  1                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 01y, 04m, 01d, 7dow -- 52wks, 30dys, 7fdow             -                       

   GROUP      v20  check on range errors in day                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  set day to zero                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate            1,  4,  0                                                           i_not       0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 00y, 00m, 00d, 0dow -- 00wks, 00dys, 0fdow             -                       

   COND       v20  set day to negative                                          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate            1,  4, -1                                                           i_not       0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 00y, 00m, 00d, 0dow -- 00wks, 00dys, 0fdow             -                       

   COND       v20  set to valid day again                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate            1,  4,  1                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 01y, 04m, 01d, 7dow -- 52wks, 30dys, 7fdow             -                       

   COND       v20  set day to end of month                                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate            1,  4, 30                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 01y, 04m, 30d, 1dow -- 52wks, 30dys, 7fdow             -                       

   COND       v20  set day past end of month                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate            1,  4, 31                                                           i_not       0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 00y, 00m, 00d, 0dow -- 00wks, 00dys, 0fdow             -                       

   COND       v20  set day way past end of month                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate            1,  4, 95                                                           i_not       0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 00y, 00m, 00d, 0dow -- 00wks, 00dys, 0fdow             -                       

   COND       v20  set to valid day again                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate            1,  4,  1                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 01y, 04m, 01d, 7dow -- 52wks, 30dys, 7fdow             -                       

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       



#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  verify duration interpretation                               ysched_duration                                                         ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       

   COND       v20  check on default minute interpretations                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  10 minutes                           ysched_duration        "10"                                                         i_equal     10                                                           
     exec     v20  30 minutes                           ysched_duration        "30"                                                         i_equal     30                                                           
     exec     v20  60 minutes                           ysched_duration        "60"                                                         i_equal     60                                                           
     exec     v20  124 minutes                          ysched_duration        "124"                                                        i_equal     124                                                          
     exec     v20  651 minutes                          ysched_duration        "651"                                                        i_equal     651                                                          
     exec     v20  1432 minutes                         ysched_duration        "1432"                                                       i_equal     1432                                                         

   COND       v20  check on specific minute interpretations                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  10 minutes                           ysched_duration        "10m"                                                        i_equal     10                                                           
     exec     v20  30 minutes                           ysched_duration        "30m"                                                        i_equal     30                                                           
     exec     v20  60 minutes                           ysched_duration        "60m"                                                        i_equal     60                                                           
     exec     v20  124 minutes                          ysched_duration        "124m"                                                       i_equal     124                                                          
     exec     v20  651 minutes                          ysched_duration        "651m"                                                       i_equal     651                                                          
     exec     v20  1432 minutes                         ysched_duration        "1432m"                                                      i_equal     1432                                                         

   COND       v20  check on non-integer minutes                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  10.5 minutes                         ysched_duration        "10.5"                                                       i_equal     10                                                           
     exec     v20  65.2 minutes                         ysched_duration        "65.2"                                                       i_equal     65                                                           
     exec     v20  37.8 minutes                         ysched_duration        "37.8m"                                                      i_equal     37                                                           

   COND       v20  check out of range                                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  zero minutes                         ysched_duration        "0"                                                          i_equal     0                                                            
     exec     v20  -15 minutes                          ysched_duration        "-15"                                                        i_lesser    0                                                            
     exec     v20  -5.6 hours                           ysched_duration        "-5.6h"                                                      i_lesser    0                                                            

   COND       v20  check on ticks                                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  1 tick                               ysched_duration        "1t"                                                         i_equal     10                                                           
     exec     v20  5 ticks                              ysched_duration        "5t"                                                         i_equal     50                                                           
     exec     v20  23 ticks                             ysched_duration        "23t"                                                        i_equal     230                                                          
     exec     v20  40 ticks                             ysched_duration        "40t"                                                        i_equal     400                                                          
     exec     v20  101 ticks                            ysched_duration        "101t"                                                       i_equal     1010                                                         

   COND       v20  check on hours                                              
     exec     v20  1 hour                               ysched_duration        "1h"                                                         i_equal     60                                                           
     exec     v20  1.5 hours                            ysched_duration        "1.5h"                                                       i_equal     90                                                           
     exec     v20  5.2 hours                            ysched_duration        "5.2h"                                                       i_equal     312                                                          
     exec     v20  10.6 hours                           ysched_duration        "10.6h"                                                      i_equal     636                                                          
     exec     v20  1.0 hours                            ysched_duration        "1.0h"                                                       i_equal     60                                                           
     exec     v20  1.1432 hours                         ysched_duration        "1.1432h"                                                    i_equal     68                                                           

   COND       v20  check on seconds                                            
     exec     v20  1 second                             ysched_duration        "1s"                                                         i_equal     0                                                            
     exec     v20  half a minute                        ysched_duration        "30s"                                                        i_equal     0                                                            
     exec     v20  two minutes                          ysched_duration        "120s"                                                       i_equal     2                                                            

   COND       v20  check false units of measure                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  check anstroms ;)                    ysched_duration        "10a"                                                        i_lesser    0                                                            
     exec     v20  check spelled out hours              ysched_duration        "10hours"                                                    i_lesser    0                                                            
     exec     v20  check prefixes                       ysched_duration        "~5m"                                                        i_lesser    0                                                            

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       



#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  field level parsing -- values only                           ysched__field                                                           ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       

   COND       v20  create local variables for testing                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  input string                         char xfield [1000];                                                                                                                                                                     -                       
     code     v20  output array                         char xarray [1000];                                                                                                                                                                     -                       

   COND       v20  run date on 03.15.2011                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  3, 15                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 03m, 15d, 2dow -- 52wks, 31dys, 2fdow             -                       

   COND       v20  parse a minimum value                                        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "0" );                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 1_______________________                               -                       

   COND       v20  parse a maximum value                                        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "23");                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : _______________________1                               -                       

   COND       v20  parse a small value                                          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "5" );                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : _____1__________________                               -                       

   COND       v20  parse with a lead zero                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "07");                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : _______1________________                               -                       

   COND       v20  parse a larger value                                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "17");                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : _________________1______                               -                       

   COND       v20  parse a negative value                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "-1");                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  parse a overly large value                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "42");                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  parse a text value                                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "x");                                                                                                                                               
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  parse on weekdays                                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "5" );                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DOW                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .____1__                                               -                       

   COND       v20  parse on weekdays with a too small value                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "0" );                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DOW                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  parse on weekdays with a too large value                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "8" );                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DOW                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  parse on months                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "12");                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_MOS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .___________1                                          -                       

   COND       v20  parse on days                                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "12");                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .___________1___________________                       -                       

   COND       v20  parse a value under minimum                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "0" );                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  parse a negative value                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "-2");                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  parse a value past maximum                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "32");                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  parse a character value                                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "w" );                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  parse a good dow value                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "7" );                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DOW                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .______1                                               -                       

   COND       v20  parse a value past dow maximum                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "8" );                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DOW                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       



#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  field level parsing -- constants                             ysched__field                                                           ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       

   COND       v20  create local variables for testing                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  input string                         char xfield [1000];                                                                                                                                                
     code     v20  output array                         char xarray [1000];                                                                                                                                                

   COND       v20  run date on 03.15.2011                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  3, 15                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 03m, 15d, 2dow -- 52wks, 31dys, 2fdow             -                       

   COND       v20  parse a wildcard                                             ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "*" );                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 111111111111111111111111                               -                       

   COND       v20  parse a business hours                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "B" );                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ________111111111_______                               -                       

   COND       v20  parse a off hours                                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "O" );                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 11111111_________1111111                               -                       

   COND       v20  parse on weekday names                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "We"               );                                                                                                                               
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DOW                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .__1____                                               -                       

   COND       v20  parse on weekday names                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "Mo,Tu,Th,Su"      );                                                                                                                               
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DOW                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .11_1__1                                               -                       

   COND       v20  parse on weekday names                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "Fr,Sa"            );                                                                                                                               
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DOW                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .____11_                                               -                       

   COND       v20  parse on weekday names (bad)                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "Tue"              );                                                                                                                               
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DOW                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  parse on weekday constant                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "W"                );                                                                                                                               
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DOW                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .11111__                                               -                       

   COND       v20  parse on weekend constant                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "E"                );                                                                                                                               
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DOW                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ._____11                                               -                       

   COND       v20  parse on B in weekdays                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "B"                );                                                                                                                               
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DOW                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  parse on quarters in months                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "2q");                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_MOS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .___111______                                          -                       

   COND       v20  parse on quarters in months                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "1q,4q"  );                                                                                                                                         
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_MOS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .111______111                                          -                       

   COND       v20  parse on quarters in months                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "Lq");                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_MOS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ._________111                                          -                       

   COND       v20  parse on first week                                          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "1w");                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .1111111________________________                       -                       

   COND       v20  parse on third week                                          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "3w");                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .______________1111111__________                       -                       

   COND       v20  parse on fifth week                                          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "5w");                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .____________________________111                       -                       

   COND       v20  parse on last day (march has 31 days)                        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "Ld");                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .______________________________1                       -                       

   COND       v20  parse on last week of month                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "Lw");                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .________________________1111111                       -                       

   COND       v20  run date on 03.15.2011                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  4, 15                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 04m, 15d, 5dow -- 52wks, 30dys, 5fdow             -                       

   COND       v20  parse on last day (april has 30 days)                        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "Ld");                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ._____________________________1.                       -                       

   COND       v20  parse on last week of month                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "Lw");                                                                                                                                              
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ._______________________1111111.                       -                       

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       


#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  field level parsing -- lists                                 ysched__field                                                           ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       

   COND       v20  create local variables for testing                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  input string                         char xfield [1000];                                                                                                                                                                     -                       
     code     v20  output array                         char xarray [1000];                                                                                                                                                                     -                       

   COND       v20  run date on 03.15.2011                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  3, 15                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 03m, 15d, 2dow -- 52wks, 31dys, 2fdow             -                       

   COND       v20  parse a contiguous list                                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "0,1"          );                                                                                                                                                        -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 11______________________                               -                       

   COND       v20  parse a discontinuous list                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "0,3"          );                                                                                                                                                        -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 1__1____________________                               -                       

   COND       v20  parse a larger list                                          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "2,5,15"       );                                                                                                                                                        -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : __1__1_________1________                               -                       

   COND       v20  parse a list with a leading zero                             ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "00,03"        );                                                                                                                                                        -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 1__1____________________                               -                       

   COND       v20  parse a larger list                                          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "2,5,15,22,23" );                                                                                                                                                        -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : __1__1_________1______11                               -                       

   COND       v20  parse a list with first one bad                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "28,5,15,22"   );                                                                                                                                                        -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  parse a list with last bad one                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "2,5,15,22,25" );                                                                                                                                                        -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  parse a out of order list                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "5,2,22,10,0"  );                                                                                                                                                        -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 1_1__1____1___________1_                               -                       

   COND       v20  parse a really large list                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "0,2,4,6,8,10,12,14,16,18,20,22");                                                                                                                                       -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 1_1_1_1_1_1_1_1_1_1_1_1_                               -                       

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       



#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  field level parsing -- ranges                                ysched__field                                                           ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       

   COND       v20  create local variables for testing                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  input string                         char xfield [1000];                                                                                                                                                                     -                       
     code     v20  output array                         char xarray [1000];                                                                                                                                                                     -                       

   COND       v20  run date on 03.15.2011                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  3, 15                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 03m, 15d, 2dow -- 52wks, 31dys, 2fdow             -                       

   COND       v20  start with little ranges                                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "0-1"            );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 11______________________                               -                       

   COND       v20  start with a longer range                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "0-5"            );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 111111__________________                               -                       

   COND       v20  use a middle range                                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "7-17"           );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : _______11111111111______                               -                       

   COND       v20  use a ending range                                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "20-23"          );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ____________________1111                               -                       

   COND       v20  try a range that goes off the end                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "20-25"          );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  try a range that starts too small                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "0-5"            );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DOW                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                               -                       

   COND       v20  try a backward range                                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "5-2"            );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DOW                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                               -                       

   COND       v20  try a doubled range                                          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "2-4-6"          );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DOW                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                               -                       

   COND       v20  try a matching range                                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "3-3"            );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DOW                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .__1____                                                -                       

   COND       v20  open starting range                                          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "<4"             );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DOW                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .1111___                                                -                       

   COND       v20  open ending range                                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "3>"             );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DOW                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .__11111                                                -                       

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       



#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  field level parsing -- steps                                 ysched__field                                                           ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       

   COND       v20  create local variables for testing                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  input string                         char xfield [1000];                                                                                                                                                                     -                       
     code     v20  output array                         char xarray [1000];                                                                                                                                                                     -                       

   COND       v20  run date on 03.15.2011                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  3, 15                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 03m, 15d, 2dow -- 52wks, 31dys, 2fdow             -                       

   COND       v20  start with smallest steps                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "*/1"            );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 111111111111111111111111                               -                       

   COND       v20  small step                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "*/2"            );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 1_1_1_1_1_1_1_1_1_1_1_1_                               -                       

   COND       v20  triplets                                                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "*/3"            );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 1__1__1__1__1__1__1__1__                               -                       

   COND       v20  big step                                                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "*/10"           );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 1_________1_________1___                               -                       

   COND       v20  bigger step                                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "*/20"           );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 1___________________1___                               -                       

   COND       v20  double step                                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "*/2/2"          );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  character step                                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "*/a"            );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  zero step                                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "*/0"            );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  step on a single value                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "3/2"            );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       



#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  field level parsing -- ranges/steps                          ysched__field                                                           ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       

   COND       v20  create local variables for testing                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  input string                         char xfield [1000];                                                                                                                                                                     -                       
     code     v20  output array                         char xarray [1000];                                                                                                                                                                     -                       

   COND       v20  run date on 03.15.2011                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  3, 15                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 03m, 15d, 2dow -- 52wks, 31dys, 2fdow             -                       

   COND       v20  simple range and small step                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "1-5/2"          );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : _1_1_1__________________                               -                       

   COND       v20  simple range and larger step                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "1-5/3"          );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : _1__1___________________                               -                       

   COND       v20  too large of a step                                          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "1-5/5"          );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : _1______________________                               -                       

   COND       v20  larger range                                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "5-20/2"         );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : _____1_1_1_1_1_1_1_1____                               -                       

   COND       v20  larger range and bigger step                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "5-20/8"         );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : _____1_______1__________                               -                       

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       



#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  field level parsing -- multi-range                           ysched__field                                                           ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       

   COND       v20  create local variables for testing                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  input string                         char xfield [1000];                                                                                                                                                                     -                       
     code     v20  output array                         char xarray [1000];                                                                                                                                                                     -                       

   COND       v20  run date on 03.15.2011                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  3, 15                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 03m, 15d, 2dow -- 52wks, 31dys, 2fdow             -                       

   COND       v20  pair of ranges                                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "1-5,10-12"      );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : _11111____111___________                               -                       

   COND       v20  four ranges                                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "0-2,5-8,10-12,20-23" );                                                                                                                                                 -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 111__1111_111_______1111                               -                       

   COND       v20  overlapping ranges                                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "0-5,10-12,5-10"      );                                                                                                                                                 -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 1111111111111___________                               -                       

   COND       v20  out of order ranges                                          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "20-23,5-10"          );                                                                                                                                                 -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : _____111111_________1111                               -                       

   COND       v20  with one bad range                                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "20-24,5-10"          );                                                                                                                                                 -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  with one bad range                                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "24-10,5-10"          );                                                                                                                                                 -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ((error))                                              -                       

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       



#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  field level parsing -- all options                           ysched__field                                                           ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       

   COND       v20  create local variables for testing                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  input string                         char xfield [1000];                                                                                                                                                                     -                       
     code     v20  output array                         char xarray [1000];                                                                                                                                                                     -                       

   COND       v20  run date on 03.15.2011                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  3, 15                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 03m, 15d, 2dow -- 52wks, 31dys, 2fdow             -                       

   COND       v20  pair of ranges with steps                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "1-5/2,10-20/3"  );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : _1_1_1____1__1__1__1____                               -                       

   COND       v20  ...and a constant                                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "1-5/2,10-20/3,B");                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : _1_1_1__111111111__1____                               -                       

   COND       v20  pair of ranges with steps                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "*/5,10-20/3"    );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 1____1____1__1_11__11___                               -                       

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       



#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  field level parsing -- rev/not/inv                           ysched__field                                                           ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       

   COND       v20  create local variables for testing                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  input string                         char xfield [1000];                                                                                                                                                                     -                       
     code     v20  output array                         char xarray [1000];                                                                                                                                                                     -                       

   COND       v20  run date on 03.15.2011                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  3, 15                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 03m, 15d, 2dow -- 52wks, 31dys, 2fdow             -                       

   COND       v20  exclude a value with not                                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "5-10,!6"        );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : _____1_1111_____________                               -                       

   COND       v20  exclude a range with not                                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "5-10,!6-8"      );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : _____1___11_____________                               -                       

   COND       v20  inverse on a range                                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "~5-10"          );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 11111______1111111111111                               -                       

   COND       v20  inverse on a range over a range                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "6-8,~5-10"       );                                                                                                                                                     -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : 11111_111__1111111111111                               -                       

   COND       v20  reverse on a value                                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "^0"             );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : _______________________1                               -                       

   COND       v20  reverse on a range                                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "^0-3"           );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ____________________1111                               -                       

   COND       v20  reverse on a range with exclusion                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "^0-3,!^1"       );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ____________________11_1                               -                       

   COND       v20  reverse on a range with a step                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "^0-4/2"         );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ___________________1_1_1                               -                       

   COND       v20  reverse on a mid-range with a step                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "^2-6/2"         );                                                                                                                                                      -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_HRS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : _________________1_1_1__                               -                       

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       



#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  field level parsing -- weekday finding                       ysched__field                                                           ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       

   COND       v20  create local variables for testing                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  input string                         char xfield [1000];                                                                                                                                                                     -                       
     code     v20  output array                         char xarray [1000];                                                                                                                                                                     -                       

   COND       v20  run date on 04.15.2011                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  4, 15                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 04m, 15d, 5dow -- 52wks, 30dys, 5fdow             -                       

   COND       v20  nearest weekday                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "11n,15n,24n,30n,2n");                                                                                                                                                   -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .1_________1___1_________1___1_.                       -                       

   COND       v20  nearest weekday after or on                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "11a,15a,24a,30a,2a");                                                                                                                                                   -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .___1______1___1_________1___1_.                       -                       

   COND       v20  nearest weekday before or on                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "11b,15b,24b,30b,2b");                                                                                                                                                   -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .1_________1___1______1______1_.                       -                       

#  COND       v20  nearest weekday before by one                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
#    code     v20  put the field value in the input     strcpy(xfield, "11+,15+,24+,30+,2+");                                                                                                                                                   -                       
#    exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
#    get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .1______1_____1______1______1__.                       -                       

   COND       v20  run date on 07.15.2011 (ends on a Su)                        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  7, 15                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 07m, 15d, 5dow -- 52wks, 31dys, 5fdow             -                       

   COND       v20  nearest weekday (bounce off end)                             ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "31n"               );                                                                                                                                                   -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .____________________________1__                       -                       

   COND       v20  nearest weekday after or on (bounce off end)                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "31a"               );                                                                                                                                                   -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .____________________________1__                       -                       

   COND       v20  nearest weekday before or on (bounce off end)                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "31b"               );                                                                                                                                                   -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .____________________________1__                       -                       

#  COND       v20  nearest weekday before by one (bounce off end)               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
#    code     v20  put the field value in the input     strcpy(xfield, "31+"               );                                                                                                                                                   -                       
#    exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
#    get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .___________________________1___                       -                       

   COND       v20  run date on 10.15.2011 (starts on a Sa)                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11, 10, 15                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 10m, 15d, 6dow -- 52wks, 31dys, 6fdow             -                       

   COND       v20  nearest weekday (bounce off start)                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "1n"                );                                                                                                                                                   -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .__1____________________________                       -                       

   COND       v20  nearest weekday after or on (bounce off start)               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "1a"                );                                                                                                                                                   -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .__1____________________________                       -                       

   COND       v20  nearest weekday before or on (bounce off start)              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy(xfield, "1b"                );                                                                                                                                                   -                       
     exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .__1____________________________                       -                       

#  COND       v20  nearest weekday before by one (bounce off start)             ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
#    code     v20  put the field value in the input     strcpy(xfield, "1+"                );                                                                                                                                                   -                       
#    exec     v20  run the parse                        ysched__field           xfield, xarray,  PARSE_DYS                                            i_equal     0                                                                       -                       
#    get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .__1____________________________                       -                       

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       



#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  effective date parsing                                       ySCHED__effective                                                       ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       

   COND       v20  create local variables for testing                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  input string                         char xfield [1000];                                                                                                                                                                     -                       
     code     v20  output array                         char xarray [1000];                                                                                                                                                                     -                       

   COND       v20  run date on 04.15.2011                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  4, 15                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 04m, 15d, 5dow -- 52wks, 30dys, 5fdow             -                       

   COND       v20  check initialization                                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run the parse                        ySCHED__effective     "reset", 0                                                              i_not       0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "effective"                                                             s_equal     effective      : <1111111111 1 1111111111>                              -                       

   COND       v20  basic start and stop                                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run the parse                        ySCHED__effective     ".effective 04.14.11 04.20.11", mySCHED.cset                                i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "effective"                                                             s_equal     effective      : <_________1 1 11111_____>                              -                       

   COND       v20  both in the future                                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run the parse                        ySCHED__effective     ".effective 04.16.11 04.20.11", mySCHED.cset                                i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "effective"                                                             s_equal     effective      : <__________ _ 11111_____>                              -                       

   COND       v20  both in the past                                             ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run the parse                        ySCHED__effective     ".effective 04.09.11 04.12.11", mySCHED.cset                                i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "effective"                                                             s_equal     effective      : <____1111__ _ __________>                              -                       

   COND       v20  only start date                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run the parse                        ySCHED__effective     ".effective 04.09.11"         , mySCHED.cset                                i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "effective"                                                             s_equal     effective      : <____111111 1 1111111111>                              -                       

   COND       v20  only the end date                                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run the parse                        ySCHED__effective     ".effective - 04.18.11"       , mySCHED.cset                                i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "effective"                                                             s_equal     effective      : <1111111111 1 111_______>                              -                       

   COND       v20  both blank                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run the parse                        ySCHED__effective     ".effective"                  , mySCHED.cset                                i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "effective"                                                             s_equal     effective      : <1111111111 1 1111111111>                              -                       

   COND       v20  both unset                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run the parse                        ySCHED__effective     ".effective - -"              , mySCHED.cset                                i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "effective"                                                             s_equal     effective      : <1111111111 1 1111111111>                              -                       

   COND       v20  just month and day                                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run the parse                        ySCHED__effective     ".effective 04.09 04.20"      , mySCHED.cset                                i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "effective"                                                             s_equal     effective      : <____111111 1 11111_____>                              -                       

   COND       v20  one exception                                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run the parse                        ySCHED__effective     ".effective 04.09 04.20 04.12"                  , mySCHED.cset              i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "effective"                                                             s_equal     effective      : <____111_11 1 11111_____>                              -                       

   COND       v20  two exceptions                                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run the parse                        ySCHED__effective     ".effective 04.09 04.20 04.12,04.16"            , mySCHED.cset              i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "effective"                                                             s_equal     effective      : <____111_11 1 _1111_____>                              -                       

   COND       v20  four exceptions                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run the parse                        ySCHED__effective     ".effective 04.09 04.20 04.12,04.16,04.18,04.20", mySCHED.cset              i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "effective"                                                             s_equal     effective      : <____111_11 1 _1_1______>                              -                       

   COND       v20  exception outside of range                                  
     exec     v20  run the parse                        ySCHED__effective     ".effective 04.09 04.20 04.07"                  , mySCHED.cset              i_equal     0                                                                       -                       
     get      v20  check the parsed version             ySCHED__accessor      "effective"                                                             s_equal     effective      : <____111111 1 11111_____>                              -                       

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       



#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  verify full grammar parser                                   ySCHED_parse                                                            ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       

   COND       v20  create local variables for testing                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  input record                         char xrecd  [1000];                                                                                                                                                                     -                       

   COND       v20  run date on 04.15.2011                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  4, 15                                                           i_equal     0                                                                       -                       
     get      v20  check the date as accepted           ySCHED__accessor      "curr_date"                                                             s_equal     current date   : 11y, 04m, 15d, 5dow -- 52wks, 30dys, 5fdow             -                       

   COND       v20  start with the first min of first day of april               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (xrecd, "0 0 1 1 *"                                       );                                                                                                                     -                       
     exec     v20  run the parse                        ySCHED_parse            NULL, xrecd                                                           i_equal     0                                                                       -                       
     get      v20  check the parsed minutes             ySCHED__accessor      "minutes"                                                               s_equal     min : 1___________________________________________________________      -                       
     get      v20  check the parsed hours               ySCHED__accessor      "hours"                                                                 s_equal     hrs : 1_______________________                                          -                       
     get      v20  check the parsed days                ySCHED__accessor      "days"                                                                  s_equal     dys : .1_____________________________.                                  -                       
     get      v20  check the parsed months              ySCHED__accessor      "months"                                                                s_equal     mos : .1___________                                                     -                       
     get      v20  check the parsed days of the week    ySCHED__accessor      "dow"                                                                   s_equal     dow : .1111111                                                          -                       
     get      v20  check the parsed weeks of the year   ySCHED__accessor      "weeks"                                                                 s_equal     wks : .1111111111111111111111111111111111111111111111111111..           -                       
     get      v20  check the parsed years               ySCHED__accessor      "years"                                                                 s_equal     yrs : 111111111111111111111111111111111111111111111111111               -                       
     get      v20  check the parsed duration            ySCHED__accessor      "duration"                                                              s_equal     dur : 0                                                                 -                       

   COND       v20  then, the last min of the last day of april                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (xrecd, "59 23 30 12 *"                                   );                                                                                                                     -                       
     exec     v20  run the parse                        ySCHED_parse            NULL, xrecd                                                           i_equal     0                                                                       -                       
     get      v20  check the parsed minutes             ySCHED__accessor      "minutes"                                                               s_equal     min : ___________________________________________________________1      -                       
     get      v20  check the parsed hours               ySCHED__accessor      "hours"                                                                 s_equal     hrs : _______________________1                                          -                       
     get      v20  check the parsed days                ySCHED__accessor      "days"                                                                  s_equal     dys : ._____________________________1.                                  -                       
     get      v20  check the parsed months              ySCHED__accessor      "months"                                                                s_equal     mos : .___________1                                                     -                       
     get      v20  check the parsed days of the week    ySCHED__accessor      "dow"                                                                   s_equal     dow : .1111111                                                          -                       
     get      v20  check the parsed weeks of the year   ySCHED__accessor      "weeks"                                                                 s_equal     wks : .1111111111111111111111111111111111111111111111111111..           -                       
     get      v20  check the parsed years               ySCHED__accessor      "years"                                                                 s_equal     yrs : 111111111111111111111111111111111111111111111111111               -                       
     get      v20  check the parsed duration            ySCHED__accessor      "duration"                                                              s_equal     dur : 0                                                                 -                       

   COND       v20  start with a standard cron all record                        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (xrecd, "* * * * *"                                       );                                                                                                                     -                       
     exec     v20  run the parse                        ySCHED_parse            NULL, xrecd                                                           i_equal     0                                                                       -                       
     get      v20  check the parsed minutes             ySCHED__accessor      "minutes"                                                               s_equal     min : 111111111111111111111111111111111111111111111111111111111111      -                       
     get      v20  check the parsed hours               ySCHED__accessor      "hours"                                                                 s_equal     hrs : 111111111111111111111111                                          -                       
     get      v20  check the parsed days                ySCHED__accessor      "days"                                                                  s_equal     dys : .111111111111111111111111111111.                                  -                       
     get      v20  check the parsed months              ySCHED__accessor      "months"                                                                s_equal     mos : .111111111111                                                     -                       
     get      v20  check the parsed days of the week    ySCHED__accessor      "dow"                                                                   s_equal     dow : .1111111                                                          -                       
     get      v20  check the parsed weeks of the year   ySCHED__accessor      "weeks"                                                                 s_equal     wks : .1111111111111111111111111111111111111111111111111111..           -                       
     get      v20  check the parsed years               ySCHED__accessor      "years"                                                                 s_equal     yrs : 111111111111111111111111111111111111111111111111111               -                       
     get      v20  check the parsed duration            ySCHED__accessor      "duration"                                                              s_equal     dur : 0                                                                 -                       

   COND       v20  run a more complex version                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (xrecd, "0-3,10-30/2 5-10,!6 2,6,8,^3-7 10,2-4 ~Mo"     );                                                                                                                       -                       
     exec     v20  run the parse                        ySCHED_parse            NULL, xrecd                                                           i_equal     0                                                                       -                       
     get      v20  check the parsed minutes             ySCHED__accessor      "minutes"                                                               s_equal     min : 1111______1_1_1_1_1_1_1_1_1_1_1_____________________________      -                       
     get      v20  check the parsed hours               ySCHED__accessor      "hours"                                                                 s_equal     hrs : _____1_1111_____________                                          -                       
     get      v20  check the parsed days                ySCHED__accessor      "days"                                                                  s_equal     dys : ._1___1_1______________11111___.                                  -                       
     get      v20  check the parsed months              ySCHED__accessor      "months"                                                                s_equal     mos : ._111_____1__                                                     -                       
     get      v20  check the parsed days of the week    ySCHED__accessor      "dow"                                                                   s_equal     dow : ._111111                                                          -                       
     get      v20  check the parsed weeks of the year   ySCHED__accessor      "weeks"                                                                 s_equal     wks : .1111111111111111111111111111111111111111111111111111..           -                       
     get      v20  check the parsed years               ySCHED__accessor      "years"                                                                 s_equal     yrs : 111111111111111111111111111111111111111111111111111               -                       
     get      v20  check the parsed duration            ySCHED__accessor      "duration"                                                              s_equal     dur : 0                                                                 -                       

   COND       v20  run a verion with new prefixes                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (xrecd, "<3,10> B,!12 5-10/3 2 W,!We"        );                                                                                                                                  -                       
     exec     v20  run the parse                        ySCHED_parse            NULL, xrecd                                                           i_equal     0                                                                       -                       
     get      v20  check the parsed minutes             ySCHED__accessor      "minutes"                                                               s_equal     min : 1111______11111111111111111111111111111111111111111111111111      -                       
     get      v20  check the parsed hours               ySCHED__accessor      "hours"                                                                 s_equal     hrs : ________1111_1111_______                                          -                       
     get      v20  check the parsed days                ySCHED__accessor      "days"                                                                  s_equal     dys : .____1__1______________________.                                  -                       
     get      v20  check the parsed months              ySCHED__accessor      "months"                                                                s_equal     mos : ._1__________                                                     -                       
     get      v20  check the parsed days of the week    ySCHED__accessor      "dow"                                                                   s_equal     dow : .11_11__                                                          -                       
     get      v20  check the parsed weeks of the year   ySCHED__accessor      "weeks"                                                                 s_equal     wks : .1111111111111111111111111111111111111111111111111111..           -                       
     get      v20  check the parsed years               ySCHED__accessor      "years"                                                                 s_equal     yrs : 111111111111111111111111111111111111111111111111111               -                       
     get      v20  check the parsed duration            ySCHED__accessor      "duration"                                                              s_equal     dur : 0                                                                 -                       

   COND       v20  run a last week variation                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (xrecd, "<3,10> B,!12 5-10/3 2 W,!We 52"     );                                                                                                                                  -                       
     exec     v20  run the parse                        ySCHED_parse            NULL, xrecd                                                           i_equal     0                                                                       -                       
     get      v20  check the parsed minutes             ySCHED__accessor      "minutes"                                                               s_equal     min : 1111______11111111111111111111111111111111111111111111111111      -                       
     get      v20  check the parsed hours               ySCHED__accessor      "hours"                                                                 s_equal     hrs : ________1111_1111_______                                          -                       
     get      v20  check the parsed days                ySCHED__accessor      "days"                                                                  s_equal     dys : .____1__1______________________.                                  -                       
     get      v20  check the parsed months              ySCHED__accessor      "months"                                                                s_equal     mos : ._1__________                                                     -                       
     get      v20  check the parsed days of the week    ySCHED__accessor      "dow"                                                                   s_equal     dow : .11_11__                                                          -                       
     get      v20  check the parsed weeks of the year   ySCHED__accessor      "weeks"                                                                 s_equal     wks : .___________________________________________________1..           -                       
     get      v20  check the parsed years               ySCHED__accessor      "years"                                                                 s_equal     yrs : 111111111111111111111111111111111111111111111111111               -                       
     get      v20  check the parsed duration            ySCHED__accessor      "duration"                                                              s_equal     dur : 0                                                                 -                       

   COND       v20  run a for same pattern, but in 2015                          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (xrecd, "<3,10> B,!12 5-10/3 2 W,!We 52 15"  );                                                                                                                                  -                       
     exec     v20  run the parse                        ySCHED_parse            NULL, xrecd                                                           i_equal     0                                                                       -                       
     get      v20  check the parsed minutes             ySCHED__accessor      "minutes"                                                               s_equal     min : 1111______11111111111111111111111111111111111111111111111111      -                       
     get      v20  check the parsed hours               ySCHED__accessor      "hours"                                                                 s_equal     hrs : ________1111_1111_______                                          -                       
     get      v20  check the parsed days                ySCHED__accessor      "days"                                                                  s_equal     dys : .____1__1______________________.                                  -                       
     get      v20  check the parsed months              ySCHED__accessor      "months"                                                                s_equal     mos : ._1__________                                                     -                       
     get      v20  check the parsed days of the week    ySCHED__accessor      "dow"                                                                   s_equal     dow : .11_11__                                                          -                       
     get      v20  check the parsed weeks of the year   ySCHED__accessor      "weeks"                                                                 s_equal     wks : .___________________________________________________1..           -                       
     get      v20  check the parsed years               ySCHED__accessor      "years"                                                                 s_equal     yrs : _______________1___________________________________               -                       
     get      v20  check the parsed duration            ySCHED__accessor      "duration"                                                              s_equal     dur : 0                                                                 -                       

   COND       v20  run a for same pattern, but in year range                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (xrecd, "<3,10> B,!12 5-10/3 2 W,!We 52 15-45/3");                                                                                                                               -                       
     exec     v20  run the parse                        ySCHED_parse            NULL, xrecd                                                           i_equal     0                                                                       -                       
     get      v20  check the parsed minutes             ySCHED__accessor      "minutes"                                                               s_equal     min : 1111______11111111111111111111111111111111111111111111111111      -                       
     get      v20  check the parsed hours               ySCHED__accessor      "hours"                                                                 s_equal     hrs : ________1111_1111_______                                          -                       
     get      v20  check the parsed days                ySCHED__accessor      "days"                                                                  s_equal     dys : .____1__1______________________.                                  -                       
     get      v20  check the parsed months              ySCHED__accessor      "months"                                                                s_equal     mos : ._1__________                                                     -                       
     get      v20  check the parsed days of the week    ySCHED__accessor      "dow"                                                                   s_equal     dow : .11_11__                                                          -                       
     get      v20  check the parsed weeks of the year   ySCHED__accessor      "weeks"                                                                 s_equal     wks : .___________________________________________________1..           -                       
     get      v20  check the parsed years               ySCHED__accessor      "years"                                                                 s_equal     yrs : _______________1__1__1__1__1__1__1__1__1__1__1_____               -                       
     get      v20  check the parsed duration            ySCHED__accessor      "duration"                                                              s_equal     dur : 0                                                                 -                       

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       




#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  verify step parser                                           ysched__step                                                            ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       

   COND       v20  create local variables for testing                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  input record                         char x_recd [1000];                                                                                                                                                                     -                       

   COND       v20  check for an all without step                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "*"                                     );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__step                                                                                  i_equal     0                                                                       -                       
     get      v20  check modifiers                      ySCHED__accessor      "step"                                                                  s_equal     step           : 1                                                      -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   1:*                                                  -                       

   COND       v20  check for a specific value without step                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "5"                                     );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__step                                                                                  i_equal     0                                                                       -                       
     get      v20  check modifiers                      ySCHED__accessor      "step"                                                                  s_equal     step           : 1                                                      -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   1:5                                                  -                       

   COND       v20  check for a specific value with small step                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "5/2"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__step                                                                                  i_equal     0                                                                       -                       
     get      v20  check modifiers                      ySCHED__accessor      "step"                                                                  s_equal     step           : 2                                                      -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   1:5                                                  -                       

   COND       v20  check for a specific value with larger step                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "5/61"                                  );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__step                                                                                  i_equal     0                                                                       -                       
     get      v20  check modifiers                      ySCHED__accessor      "step"                                                                  s_equal     step           : 61                                                     -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   1:5                                                  -                       

   COND       v20  check for a specific value with larger base                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "5436/61"                               );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__step                                                                                  i_equal     0                                                                       -                       
     get      v20  check modifiers                      ySCHED__accessor      "step"                                                                  s_equal     step           : 61                                                     -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   4:5436                                               -                       

   COND       v20  check for a specific value with unknown step                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "5436/?"                                );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__step                                                                                  i_lesser    0                                                                       -                       

   COND       v20  check for a specific value with missing step                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "5436/"                                 );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__step                                                                                  i_lesser    0                                                                       -                       

   COND       v20  check for a specific value with letter step                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "5436/z"                                );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__step                                                                                  i_lesser    0                                                                       -                       

   COND       v20  check for a specific value with empty step                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "5436/"                                 );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__step                                                                                  i_lesser    0                                                                       -                       

   COND       v20  check for a specific value with step range                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "5436/1-2"                              );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__step                                                                                  i_lesser    0                                                                       -                       

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       




#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  verify modifier parser                                       ysched__modifier                                                        ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       

   COND       v20  create local variables for testing                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  input record                         char x_recd [1000];                                                                                                                                                                     -                       

   COND       v20  check for an all without modifiers                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "*"                                     );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__modifier                                                                              i_equal     0                                                                       -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   1:*                                                  -                       

   COND       v20  check for a simple value without modifiers                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "5"                                     );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__modifier                                                                              i_equal     0                                                                       -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   1:5                                                  -                       

   COND       v20  check for a simple value with not modifier                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "!5"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__modifier                                                                              i_equal     0                                                                       -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=y, rev=-, inv=-                                    -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   1:5                                                  -                       

   COND       v20  check for a simple value with reverse modifier               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "^5"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__modifier                                                                              i_equal     0                                                                       -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=y, inv=-                                    -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   1:5                                                  -                       

   COND       v20  check for a simple value with inverse modifier               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "~5"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__modifier                                                                              i_equal     0                                                                       -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=y                                    -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   1:5                                                  -                       

   COND       v20  check for a simple value with unknown modifier               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "?5"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__modifier                                                                              i_equal     0                                                                       -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   2:?5                                                 -                       

   COND       v20  check for a simple value with before range modifier          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "<5"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__modifier                                                                              i_equal     0                                                                       -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   2:<5                                                 -                       

   COND       v20  check for a simple value with letter modifier                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "a5"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__modifier                                                                              i_equal     0                                                                       -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   2:a5                                                 -                       

   COND       v20  check for a simple value with double modifier                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "!^5"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__modifier                                                                              i_equal     0                                                                       -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=y, rev=y, inv=-                                    -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   1:5                                                  -                       

   COND       v20  check for a simple value with double modifier separated      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "!a^5"                                  );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__modifier                                                                              i_equal     0                                                                       -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=y, rev=-, inv=-                                    -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   3:a^5                                                -                       

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       




#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  verify constant parser                                       ysched__const                                                           ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       

   COND       v20  create local variables for testing                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  input record                         char x_recd [1000];                                                                                                                                                                     -                       

   COND       v20  check for an all                                             ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "*"                                     );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DOW                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__const         PARSE_DOW                                                               i_greater   0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=1  , end=7                                         -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       

   COND       v20  check for a specific value                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "5"                                     );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DOW                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__const         PARSE_DOW                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=-1 , end=-1                                        -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       

   COND       v20  check for a real constant                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "Mo"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DOW                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__const         PARSE_DOW                                                               i_greater   0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=1  , end=1                                         -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       

   COND       v20  check for another constant                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "Th"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DOW                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__const         PARSE_DOW                                                               i_greater   0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=4  , end=4                                         -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       

   COND       v20  check for constant in wrong field                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "Light"                                 );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DOW                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__const         PARSE_DOW                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=-1 , end=-1                                        -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       

   COND       v20  check for constant now in right field                        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "Light"                                 );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_HRS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__const         PARSE_HRS                                                               i_greater   0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=7  , end=18                                        -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       

   COND       v20  check for constant that uses inversing                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "Dark"                                  );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_HRS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__const         PARSE_HRS                                                               i_greater   0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=7  , end=18                                        -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=y                                    -                       

   COND       v20  check for week constant                                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "2w"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__const         PARSE_DYS                                                               i_greater   0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=8  , end=14                                        -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       

   COND       v20  check for last week constant                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "Lw"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__const         PARSE_DYS                                                               i_greater   0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=0  , end=6                                         -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=y, inv=-                                    -                       

   COND       v20  check for month constant in wrong field                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "3q"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__const         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=-1 , end=-1                                        -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       

   COND       v20  check for month constant in right field                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "3q"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MOS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__const         PARSE_MOS                                                               i_greater   0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=7  , end=9                                         -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       

   COND       v20  check for last quarter constant                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "Lq"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MOS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__const         PARSE_MOS                                                               i_greater   0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=0  , end=2                                         -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=y, inv=-                                    -                       

   COND       v20  check for new season constant                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "Autumn"                                );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MOS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__const         PARSE_MOS                                                               i_greater   0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=9  , end=11                                        -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       

   COND       v20  check for new time of day constant                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "Graveyard"                             );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_HRS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__const         PARSE_HRS                                                               i_greater   0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=2  , end=4                                         -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       

   COND       v20  check for new time of day constant                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "Dusk"                                  );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_HRS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__const         PARSE_HRS                                                               i_greater   0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=17 , end=19                                        -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       

   COND       v20  check for new time of day constant                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "Light"                                 );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_HRS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__const         PARSE_HRS                                                               i_greater   0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=7  , end=18                                        -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       

   COND       v20  check for last day of month                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "Ld"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__const         PARSE_DYS                                                               i_greater   0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=0  , end=0                                         -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=y, inv=-                                    -                       

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       




#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  verify number parser                                         ysched__number                                                          ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       
     exec     v20  set the date                         ySCHED_setdate           11,  4, 15                                                           i_equal     0                                                                       -                       

   COND       v20  create local variables for testing                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  input record                         char x_recd [1000];                                                                                                                                                                     -                       

   COND       v20  check for simple number                                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "5"                                     );                                                                                                                              -                       
     exec     v20  run the parse                        ysched__number        PARSE_HRS              , x_recd                                         i_equal     5                                                                       -                       

   COND       v20  check for two digit number                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "13"                                    );                                                                                                                              -                       
     exec     v20  run the parse                        ysched__number        PARSE_HRS              , x_recd                                         i_equal     13                                                                      -                       

   COND       v20  check for zero                                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "0"                                     );                                                                                                                              -                       
     exec     v20  run the parse                        ysched__number        PARSE_HRS              , x_recd                                         i_equal     0                                                                       -                       

   COND       v20  check for negative (error)                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "-5"                                    );                                                                                                                              -                       
     exec     v20  run the parse                        ysched__number        PARSE_HRS              , x_recd                                         i_lesser    0                                                                       -                       

   COND       v20  check for letter (error)                                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "z"                                     );                                                                                                                              -                       
     exec     v20  run the parse                        ysched__number        PARSE_HRS              , x_recd                                         i_lesser    0                                                                       -                       

   COND       v20  check for punctation (error)                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "?"                                     );                                                                                                                              -                       
     exec     v20  run the parse                        ysched__number        PARSE_HRS              , x_recd                                         i_lesser    0                                                                       -                       

   COND       v20  check for real number (error)                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "1.6"                                   );                                                                                                                              -                       
     exec     v20  run the parse                        ysched__number        PARSE_HRS              , x_recd                                         i_lesser    0                                                                       -                       

   COND       v20  check for good number again                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "15"                                    );                                                                                                                              -                       
     exec     v20  run the parse                        ysched__number        PARSE_HRS              , x_recd                                         i_equal     15                                                                      -                       

   COND       v20  check for suffixed number (error)                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "15a"                                   );                                                                                                                              -                       
     exec     v20  run the parse                        ysched__number        PARSE_HRS              , x_recd                                         i_lesser    0                                                                       -                       

   COND       v20  check for out of range on hours                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "24"                                    );                                                                                                                              -                       
     exec     v20  run the parse                        ysched__number        PARSE_HRS              , x_recd                                         i_lesser    0                                                                       -                       

   COND       v20  check for normal minute value                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "31"                                    );                                                                                                                              -                       
     exec     v20  run the parse                        ysched__number        PARSE_MNS              , x_recd                                         i_equal     31                                                                      -                       

   COND       v20  check for min minute value                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "0"                                     );                                                                                                                              -                       
     exec     v20  run the parse                        ysched__number        PARSE_MNS              , x_recd                                         i_equal     0                                                                       -                       

   COND       v20  check for max minute value                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "59"                                    );                                                                                                                              -                       
     exec     v20  run the parse                        ysched__number        PARSE_MNS              , x_recd                                         i_equal     59                                                                      -                       

   COND       v20  check for out of range on minutes                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "60"                                    );                                                                                                                              -                       
     exec     v20  run the parse                        ysched__number        PARSE_MNS              , x_recd                                         i_lesser    0                                                                       -                       

   COND       v20  check for below min day value                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "0"                                     );                                                                                                                              -                       
     exec     v20  run the parse                        ysched__number        PARSE_DYS              , x_recd                                         i_lesser    0                                                                       -                       

   COND       v20  check for min day value                                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "1"                                     );                                                                                                                              -                       
     exec     v20  run the parse                        ysched__number        PARSE_DYS              , x_recd                                         i_equal     1                                                                       -                       

   COND       v20  check for max day value                                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "30"                                    );                                                                                                                              -                       
     exec     v20  run the parse                        ysched__number        PARSE_DYS              , x_recd                                         i_equal     30                                                                      -                       

   COND       v20  check for out of range on days                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "31"                                    );                                                                                                                              -                       
     exec     v20  run the parse                        ysched__number        PARSE_DYS              , x_recd                                         i_lesser    0                                                                       -                       

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       




#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  verify range parser                                          ysched__range                                                           ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       
     exec     v20  set the date                         ySCHED_setdate           11,  4, 15                                                           i_equal     0                                                                       -                       

   COND       v20  create local variables for testing                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  input record                         char x_recd [1000];                                                                                                                                                                     -                       

   COND       v20  check for less than range                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "<5"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   2:<5                                                 -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_HRS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_HRS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=0  , end=5                                         -                       

   COND       v20  check for greater than range                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "12>"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   3:12>                                                -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_HRS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_HRS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=12 , end=999                                       -                       

   COND       v20  check for less than zero                                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "<0"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   2:<0                                                 -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_HRS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_HRS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=0  , end=0                                         -                       

   COND       v20  check for less than negative (error)                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "<-5"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   3:<-5                                                -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_HRS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_HRS                                                               i_lesser    0                                                                       -                       

   COND       v20  check for using both less and greater (error)                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "<5>"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   3:<5>                                                -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_HRS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_HRS                                                               i_lesser    0                                                                       -                       

   COND       v20  check for a basic range                                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "2-6"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   3:2-6                                                -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_HRS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_HRS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=2  , end=6                                         -                       

   COND       v20  check for single sided range (error)                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "2-"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   2:2-                                                 -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_HRS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_HRS                                                               i_lesser    0                                                                       -                       

   COND       v20  check for single sided range (error)                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "-6"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   2:-6                                                 -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_HRS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_HRS                                                               i_lesser    0                                                                       -                       

   COND       v20  check for single value range                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "3-3"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   3:3-3                                                -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_HRS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_HRS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=3  , end=3                                         -                       

   COND       v20  check for a backward range (error)                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "9-6"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   3:9-6                                                -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_HRS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_HRS                                                               i_lesser    0                                                                       -                       

   COND       v20  check for two digit numbers                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "3-15"                                  );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   4:3-15                                               -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_HRS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_HRS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=3  , end=15                                        -                       

   COND       v20  check for two digit numbers                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "12-31"                                 );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   5:12-31                                              -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_MNS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_MNS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=12 , end=31                                        -                       

   COND       v20  check for simple value                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "12"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   2:12                                                 -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_HRS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_HRS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=12 , end=12                                        -                       

   COND       v20  check for an all constant                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "*"                                     );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     get      v20  check field result                   ySCHED__accessor      "field"                                                                 s_equal     field          :   1:*                                                  -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_HRS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_HRS                                                               i_lesser    0                                                                       -                       

   COND       v20  check for weekdays around wed                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "13"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=13 , end=13                                        -                       
     code     v20  put the field value in the input     strcpy (x_recd, "13a"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=13 , end=13                                        -                       
     code     v20  put the field value in the input     strcpy (x_recd, "13b"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=13 , end=13                                        -                       
     code     v20  put the field value in the input     strcpy (x_recd, "13n"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=13 , end=13                                        -                       

   COND       v20  check for weekdays around sat                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "16"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=16 , end=16                                        -                       
     code     v20  put the field value in the input     strcpy (x_recd, "16a"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=18 , end=18                                        -                       
     code     v20  put the field value in the input     strcpy (x_recd, "16b"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=15 , end=15                                        -                       
     code     v20  put the field value in the input     strcpy (x_recd, "16n"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=15 , end=15                                        -                       

   COND       v20  check for weekdays around sun                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "24"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=24 , end=24                                        -                       
     code     v20  put the field value in the input     strcpy (x_recd, "24a"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=25 , end=25                                        -                       
     code     v20  put the field value in the input     strcpy (x_recd, "24b"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=22 , end=22                                        -                       
     code     v20  put the field value in the input     strcpy (x_recd, "24n"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=25 , end=25                                        -                       

   COND       v20  set date to put sat as first day                             ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  1, 15                                                           i_equal     0                                                                       -                       

   COND       v20  check for weekdays around sun                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "1"                                     );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=1  , end=1                                         -                       
     code     v20  put the field value in the input     strcpy (x_recd, "1a"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=3  , end=3                                         -                       
     code     v20  put the field value in the input     strcpy (x_recd, "1b"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=3  , end=3                                         -                       
     code     v20  put the field value in the input     strcpy (x_recd, "1n"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=3  , end=3                                         -                       

   COND       v20  set date to put sun as last day                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  set the date                         ySCHED_setdate           11,  7, 15                                                           i_equal     0                                                                       -                       

   COND       v20  check for weekdays around sun                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "31"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=31 , end=31                                        -                       
     code     v20  put the field value in the input     strcpy (x_recd, "31a"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=29 , end=29                                        -                       
     code     v20  put the field value in the input     strcpy (x_recd, "31b"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=29 , end=29                                        -                       
     code     v20  put the field value in the input     strcpy (x_recd, "31n"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_equal     0                                                                       -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=29 , end=29                                        -                       

   COND       v20  check for out of range weekday                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_recd, "32"                                    );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_lesser    0                                                                       -                       
     code     v20  put the field value in the input     strcpy (x_recd, "32a"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_lesser    0                                                                       -                       
     code     v20  put the field value in the input     strcpy (x_recd, "32b"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_lesser    0                                                                       -                       
     code     v20  put the field value in the input     strcpy (x_recd, "32n"                                   );                                                                                                                              -                       
     code     v20  set the length                       s_len   = strlen (x_recd);                                                                                                                                                              -                       
     code     v20  point field at the input value       s_input = x_recd;                                                                                                                                                                       -                       
     exec     v20  prepare the parse                    ysched__prep          PARSE_DYS                                                               i_equal     0                                                                       -                       
     exec     v20  run the parse                        ysched__range         PARSE_DYS                                                               i_lesser    0                                                                       -                       

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       




#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  verify range parser                                          ysched__range                                                           ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize                                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test beginning                  ysched__unit_quiet                                                                            i_equal     0                                                                       -                       
     exec     v20  set the date                         ySCHED_setdate           11,  4, 15                                                           i_equal     0                                                                       -                       

   COND       v20  create local variables for testing                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  input string                         char x_field [1000];                                                                                                                                                                    -                       
     code     v20  output array                         char x_array [1000];                                                                                                                                                                    -                       

   COND       v20  check for a specific value                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_field, "23");                                                                                                                                                                 -                       
     exec     v20  run the parse                        ysched__field         x_field , x_array, PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check modifiers                      ySCHED__accessor      "step"                                                                  s_equal     step           : 1                                                      -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=23 , end=23                                        -                       
     get      v20  check limits                         ySCHED__accessor      "limits"                                                                s_equal     limits         : min=1  , smax=30, bmax=31                              -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .______________________1_______.                       -                       

   COND       v20  check for two specific values                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_field, "23,2");                                                                                                                                                               -                       
     exec     v20  run the parse                        ysched__field         x_field , x_array, PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check limits                         ySCHED__accessor      "limits"                                                                s_equal     limits         : min=1  , smax=30, bmax=31                              -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ._1____________________1_______.                       -                       

   COND       v20  check for many specific values                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_field, "23,2,15,16,20,30");                                                                                                                                                   -                       
     exec     v20  run the parse                        ysched__field         x_field , x_array, PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check limits                         ySCHED__accessor      "limits"                                                                s_equal     limits         : min=1  , smax=30, bmax=31                              -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ._1____________11___1__1______1.                       -                       

   COND       v20  check for a range                                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_field, "10-15");                                                                                                                                                              -                       
     exec     v20  run the parse                        ysched__field         x_field , x_array, PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check modifiers                      ySCHED__accessor      "step"                                                                  s_equal     step           : 1                                                      -                       
     get      v20  check modifiers                      ySCHED__accessor      "modifiers"                                                             s_equal     modifiers      : not=-, rev=-, inv=-                                    -                       
     get      v20  check range ends                     ySCHED__accessor      "range"                                                                 s_equal     range          : beg=10 , end=15                                        -                       
     get      v20  check limits                         ySCHED__accessor      "limits"                                                                s_equal     limits         : min=1  , smax=30, bmax=31                              -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ._________111111_______________.                       -                       

   COND       v20  check for a range with a value                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_field, "10-15,23");                                                                                                                                                           -                       
     exec     v20  run the parse                        ysched__field         x_field , x_array, PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check limits                         ySCHED__accessor      "limits"                                                                s_equal     limits         : min=1  , smax=30, bmax=31                              -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ._________111111_______1_______.                       -                       

   COND       v20  check for a range with excluded value                        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_field, "10-15,!12");                                                                                                                                                          -                       
     exec     v20  run the parse                        ysched__field         x_field , x_array, PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check limits                         ySCHED__accessor      "limits"                                                                s_equal     limits         : min=1  , smax=30, bmax=31                              -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ._________11_111_______________.                       -                       

   COND       v20  check for a range with excluded value and last               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_field, "10-15,!12,Ld");                                                                                                                                                       -                       
     exec     v20  run the parse                        ysched__field         x_field , x_array, PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check limits                         ySCHED__accessor      "limits"                                                                s_equal     limits         : min=1  , smax=30, bmax=31                              -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ._________11_111______________1.                       -                       

   COND       v20  check for a range with excluded value, last, and reverse     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_field, "10-15,!12,Ld,^2-6");                                                                                                                                                  -                       
     exec     v20  run the parse                        ysched__field         x_field , x_array, PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check limits                         ySCHED__accessor      "limits"                                                                s_equal     limits         : min=1  , smax=30, bmax=31                              -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : ._________11_111________11111_1.                       -                       

   COND       v20  check for all plus excluded                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_field, "*,!Ld,!23");                                                                                                                                                          -                       
     exec     v20  run the parse                        ysched__field         x_field , x_array, PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check limits                         ySCHED__accessor      "limits"                                                                s_equal     limits         : min=1  , smax=30, bmax=31                              -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .1111111111111111111111_111111_.                       -                       

   COND       v20  check for all, exclude last week, but add last day           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_field, "*,!Lw,Ld");                                                                                                                                                           -                       
     exec     v20  run the parse                        ysched__field         x_field , x_array, PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check limits                         ySCHED__accessor      "limits"                                                                s_equal     limits         : min=1  , smax=30, bmax=31                              -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .11111111111111111111111______1.                       -                       

   COND       v20  check for reverse plus add middle one, and not another       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_field, "~5-10,8,!15,23");                                                                                                                                                     -                       
     exec     v20  run the parse                        ysched__field         x_field , x_array, PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check limits                         ySCHED__accessor      "limits"                                                                s_equal     limits         : min=1  , smax=30, bmax=31                              -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .1111___1__1111_111111111111111.                       -                       

   COND       v20  add a not reverse for last week                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_field, "~5-10,8,!15,23,!^1-6");                                                                                                                                               -                       
     exec     v20  run the parse                        ysched__field         x_field , x_array, PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check limits                         ySCHED__accessor      "limits"                                                                s_equal     limits         : min=1  , smax=30, bmax=31                              -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .1111___1__1111_11111111______1.                       -                       

   COND       v20  check for a range with a value, and a business day thingy    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  put the field value in the input     strcpy (x_field, "10-15,23n,4a,8n,9n");                                                                                                                                                 -                       
     exec     v20  run the parse                        ysched__field         x_field , x_array, PARSE_DYS                                            i_equal     0                                                                       -                       
     get      v20  check limits                         ySCHED__accessor      "limits"                                                                s_equal     limits         : min=1  , smax=30, bmax=31                              -                       
     get      v20  check the parsed version             ySCHED__accessor      "parsed"                                                                s_equal     parsed freq    : .___1___1_111111______1________.                       -                       

   COND       v20  wrap-up testing                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call test ending                     ysched__unit_end                                                                              i_equal     0                                                                       -                       


